<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass         #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE DerivingStrategies     #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances      #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE GADTs                  #-}</span><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses  #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE OverloadedStrings      #-}</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.PlutusCore.Name</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- * Types</span><span>
</span><a name="line-10"></a><span>                                  </span><a href="Language.PlutusCore.Name.html#IdentifierState"><span class="hs-identifier hs-type">IdentifierState</span></a><span>
</span><a name="line-11"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-12"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#TypeUnique"><span class="hs-identifier hs-type">TypeUnique</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-13"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier hs-type">TermUnique</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-14"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-15"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-16"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-17"></a><span>                                </span><span class="hs-comment">-- * Functions</span><span>
</span><a name="line-18"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#newIdentifier"><span class="hs-identifier hs-var">newIdentifier</span></a><span>
</span><a name="line-19"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#emptyIdentifierState"><span class="hs-identifier hs-var">emptyIdentifierState</span></a><span>
</span><a name="line-20"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#identifierStateFrom"><span class="hs-identifier hs-var">identifierStateFrom</span></a><span>
</span><a name="line-21"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#mapNameString"><span class="hs-identifier hs-var">mapNameString</span></a><span>
</span><a name="line-22"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#mapTyNameString"><span class="hs-identifier hs-var">mapTyNameString</span></a><span>
</span><a name="line-23"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#newtypeUnique"><span class="hs-identifier hs-var">newtypeUnique</span></a><span>
</span><a name="line-24"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-type">PrettyConfigName</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-25"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#HasPrettyConfigName"><span class="hs-identifier hs-type">HasPrettyConfigName</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-26"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#defPrettyConfigName"><span class="hs-identifier hs-var">defPrettyConfigName</span></a><span>
</span><a name="line-27"></a><span>                                </span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#debugPrettyConfigName"><span class="hs-identifier hs-var">debugPrettyConfigName</span></a><span>
</span><a name="line-28"></a><span>                                </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span>           </span><a href="PlutusPrelude.html"><span class="hs-identifier">PlutusPrelude</span></a><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Lens</span><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Monad.State</span><span>
</span><a name="line-34"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.ByteString.Lazy</span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">BSL</span><span>
</span><a name="line-35"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.IntMap</span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">IM</span><span>
</span><a name="line-36"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Map</span><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">M</span><span>
</span><a name="line-37"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Text</span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">T</span><span>
</span><a name="line-38"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Instances.TH.Lift</span><span>          </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Language.Haskell.TH.Syntax</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Lift</span><span class="hs-special">)</span><span>
</span><a name="line-40"></a><span>
</span><a name="line-41"></a><span class="hs-comment">-- | A 'Name' represents variables/names in Plutus Core.</span><span>
</span><a name="line-42"></a><span class="hs-keyword">data</span><span> </span><a name="Name"><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier">Name</span></a></a><span> </span><a name="local-6989586621679097334"><a href="#local-6989586621679097334"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Name"><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier">Name</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="nameAttribute"><a href="Language.PlutusCore.Name.html#nameAttribute"><span class="hs-identifier">nameAttribute</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679097334"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-43"></a><span>                   </span><span class="hs-special">,</span><span> </span><a name="nameString"><a href="Language.PlutusCore.Name.html#nameString"><span class="hs-identifier">nameString</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">T.Text</span><span> </span><span class="hs-comment">-- ^ The identifier name, for use in error messages.</span><span>
</span><a name="line-44"></a><span>                   </span><span class="hs-special">,</span><span> </span><a name="nameUnique"><a href="Language.PlutusCore.Name.html#nameUnique"><span class="hs-identifier">nameUnique</span></a></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span> </span><span class="hs-comment">-- ^ A 'Unique' assigned to the name during lexing, allowing for cheap comparisons in the compiler.</span><span>
</span><a name="line-45"></a><span>                   </span><span class="hs-special">}</span><span>
</span><a name="line-46"></a><span>            </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">NFData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Lift</span><span class="hs-special">)</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span class="hs-comment">-- | We use a @newtype@ to enforce separation between names used for types and</span><span>
</span><a name="line-49"></a><span class="hs-comment">-- those used for terms.</span><span>
</span><a name="line-50"></a><span class="hs-keyword">newtype</span><span> </span><a name="TyName"><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier">TyName</span></a></a><span> </span><a name="local-6989586621679097333"><a href="#local-6989586621679097333"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="TyName"><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier">TyName</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unTyName"><a href="Language.PlutusCore.Name.html#unTyName"><span class="hs-identifier">unTyName</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097333"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-51"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Lift</span><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Functor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">NFData</span><span class="hs-special">)</span><span>
</span><a name="line-53"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Wrapped</span><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><a href="#local-6989586621679097349"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-54"></a><span>
</span><a name="line-55"></a><span class="hs-comment">-- | Apply a function to the string representation of a 'Name'.</span><span>
</span><a name="line-56"></a><span class="hs-identifier">mapNameString</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">T.Text</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">T.Text</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097479"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097479"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-57"></a><a name="mapNameString"><a href="Language.PlutusCore.Name.html#mapNameString"><span class="hs-identifier">mapNameString</span></a></a><span> </span><a name="local-6989586621679097480"><a href="#local-6989586621679097480"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679097481"><a href="#local-6989586621679097481"><span class="hs-identifier">name</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679097481"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">nameString</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679097480"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">nameString</span><span> </span><a href="#local-6989586621679097481"><span class="hs-identifier hs-var">name</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span class="hs-comment">-- | Apply a function to the string representation of a 'TyName'.</span><span>
</span><a name="line-60"></a><span class="hs-identifier">mapTyNameString</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">T.Text</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">T.Text</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><a href="#local-6989586621679097478"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><a href="#local-6989586621679097478"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-61"></a><a name="mapTyNameString"><a href="Language.PlutusCore.Name.html#mapTyNameString"><span class="hs-identifier">mapTyNameString</span></a></a><span> </span><a name="local-6989586621679097482"><a href="#local-6989586621679097482"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-var">TyName</span></a><span> </span><a name="local-6989586621679097483"><a href="#local-6989586621679097483"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-var">TyName</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="Language.PlutusCore.Name.html#mapNameString"><span class="hs-identifier hs-var">mapNameString</span></a><span> </span><a href="#local-6989586621679097482"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679097483"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-62"></a><span>
</span><a name="line-63"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097348"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-64"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541095"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">nameUnique</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097347"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-67"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323790143"><span class="hs-operator">&lt;=</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;=</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">nameUnique</span><span>
</span><a name="line-68"></a><span>
</span><a name="line-69"></a><span class="hs-comment">-- | An 'IdentifierState' includes a map indexed by 'Int's as well as a map</span><span>
</span><a name="line-70"></a><span class="hs-comment">-- indexed by 'ByteString's. It is used during parsing and renaming.</span><span>
</span><a name="line-71"></a><span class="hs-keyword">type</span><span> </span><a name="IdentifierState"><a href="Language.PlutusCore.Name.html#IdentifierState"><span class="hs-identifier">IdentifierState</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">IM.IntMap</span><span> </span><span class="hs-identifier hs-type">BSL.ByteString</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">M.Map</span><span> </span><span class="hs-identifier hs-type">BSL.ByteString</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span class="hs-special">)</span><span>
</span><a name="line-72"></a><span>
</span><a name="line-73"></a><span class="hs-identifier">emptyIdentifierState</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#IdentifierState"><span class="hs-identifier hs-type">IdentifierState</span></a><span>
</span><a name="line-74"></a><a name="emptyIdentifierState"><a href="Language.PlutusCore.Name.html#emptyIdentifierState"><span class="hs-identifier">emptyIdentifierState</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">mempty</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">mempty</span><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-var">Unique</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span class="hs-identifier">identifierStateFrom</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#IdentifierState"><span class="hs-identifier hs-type">IdentifierState</span></a><span>
</span><a name="line-77"></a><a name="identifierStateFrom"><a href="Language.PlutusCore.Name.html#identifierStateFrom"><span class="hs-identifier">identifierStateFrom</span></a></a><span> </span><a name="local-6989586621679097484"><a href="#local-6989586621679097484"><span class="hs-identifier">u</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">mempty</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">mempty</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679097484"><span class="hs-identifier hs-var">u</span></a><span class="hs-special">)</span><span>
</span><a name="line-78"></a><span>
</span><a name="line-79"></a><span class="hs-comment">-- N.B. the constructors for 'Unique' are exported for the sake of the test</span><span>
</span><a name="line-80"></a><span class="hs-comment">-- suite; I don't know if there is an easier/better way to do this</span><span>
</span><a name="line-81"></a><span class="hs-comment">-- | A unique identifier</span><span>
</span><a name="line-82"></a><span class="hs-keyword">newtype</span><span> </span><a name="Unique"><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier">Unique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Unique"><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier">Unique</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="unUnique"><a href="Language.PlutusCore.Name.html#unUnique"><span class="hs-identifier">unUnique</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-83"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Lift</span><span class="hs-special">)</span><span>
</span><a name="line-84"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NFData</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Pretty</span><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span>
</span><a name="line-86"></a><span class="hs-comment">-- | The unique of a type-level name.</span><span>
</span><a name="line-87"></a><span class="hs-keyword">newtype</span><span> </span><a name="TypeUnique"><a href="Language.PlutusCore.Name.html#TypeUnique"><span class="hs-identifier">TypeUnique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="TypeUnique"><a href="Language.PlutusCore.Name.html#TypeUnique"><span class="hs-identifier">TypeUnique</span></a></a><span>
</span><a name="line-88"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="unTypeUnique"><a href="Language.PlutusCore.Name.html#unTypeUnique"><span class="hs-identifier">unTypeUnique</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-89"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-90"></a><span>
</span><a name="line-91"></a><span class="hs-comment">-- | The unique of a term-level name.</span><span>
</span><a name="line-92"></a><span class="hs-keyword">newtype</span><span> </span><a name="TermUnique"><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier">TermUnique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="TermUnique"><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier">TermUnique</span></a></a><span>
</span><a name="line-93"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="unTermUnique"><a href="Language.PlutusCore.Name.html#unTermUnique"><span class="hs-identifier">unTermUnique</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-94"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-95"></a><span>
</span><a name="line-96"></a><span class="hs-comment">-- | The default implementation of 'HasUnique' for newtypes.</span><span>
</span><a name="line-97"></a><span class="hs-identifier">newtypeUnique</span><span>
</span><a name="line-98"></a><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Wrapped</span><span> </span><a href="#local-6989586621679097475"><span class="hs-identifier hs-type">new</span></a><span class="hs-special">,</span><span> </span><a href="Language.PlutusCore.Name.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Unwrapped</span><span> </span><a href="#local-6989586621679097475"><span class="hs-identifier hs-type">new</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679097476"><span class="hs-identifier hs-type">unique'</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Coercible</span><span> </span><a href="#local-6989586621679097476"><span class="hs-identifier hs-type">unique'</span></a><span> </span><a href="#local-6989586621679097477"><span class="hs-identifier hs-type">unique</span></a><span class="hs-special">)</span><span>
</span><a name="line-99"></a><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="#local-6989586621679097475"><span class="hs-identifier hs-type">new</span></a><span> </span><a href="#local-6989586621679097477"><span class="hs-identifier hs-type">unique</span></a><span>
</span><a name="line-100"></a><a name="newtypeUnique"><a href="Language.PlutusCore.Name.html#newtypeUnique"><span class="hs-identifier">newtypeUnique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">_Wrapped'</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Language.PlutusCore.Name.html#unique"><span class="hs-identifier hs-var">unique</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">coerced</span><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-comment">-- | Types which have a 'Unique' attached to them, mostly names.</span><span>
</span><a name="line-103"></a><span class="hs-keyword">class</span><span> </span><span class="hs-identifier hs-type">Coercible</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span> </span><a href="#local-6989586621679097332"><span class="hs-identifier hs-type">unique</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="HasUnique"><a href="Language.PlutusCore.Name.html#HasUnique"><span class="hs-identifier">HasUnique</span></a></a><span> </span><a name="local-6989586621679097331"><a href="#local-6989586621679097331"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679097332"><a href="#local-6989586621679097332"><span class="hs-identifier">unique</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">unique</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-104"></a><span>    </span><a name="unique"><a href="Language.PlutusCore.Name.html#unique"><span class="hs-identifier">unique</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Lens'</span><span> </span><a href="#local-6989586621679097331"><span class="hs-identifier hs-type">a</span></a><span> </span><a href="#local-6989586621679097332"><span class="hs-identifier hs-type">unique</span></a><span>
</span><a name="line-105"></a><span>
</span><a name="line-106"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.PlutusCore.Name.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097342"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier hs-type">TermUnique</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-107"></a><span>    </span><a name="local-8214565720323872214"><a href="Language.PlutusCore.Name.html#unique"><span class="hs-identifier">unique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">lens</span><span> </span><a href="#local-6989586621679097343"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679097344"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-108"></a><span>        </span><a name="local-6989586621679097343"><a href="#local-6989586621679097343"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier hs-var">TermUnique</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">nameUnique</span><span>
</span><a name="line-109"></a><span>        </span><a name="local-6989586621679097344"><a href="#local-6989586621679097344"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679097345"><a href="#local-6989586621679097345"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#TermUnique"><span class="hs-identifier hs-var">TermUnique</span></a><span> </span><a name="local-6989586621679097346"><a href="#local-6989586621679097346"><span class="hs-identifier">u</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679097345"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">{</span><span class="hs-identifier">nameUnique</span><span class="hs-glyph">=</span><a href="#local-6989586621679097346"><span class="hs-identifier hs-var">u</span></a><span class="hs-special">}</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.PlutusCore.Name.html#HasUnique"><span class="hs-identifier hs-type">HasUnique</span></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><a href="#local-6989586621679097341"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><a href="Language.PlutusCore.Name.html#TypeUnique"><span class="hs-identifier hs-type">TypeUnique</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-112"></a><span>    </span><a name="local-8214565720323872214"><a href="Language.PlutusCore.Name.html#unique"><span class="hs-identifier">unique</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#newtypeUnique"><span class="hs-identifier hs-var">newtypeUnique</span></a><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span class="hs-comment">-- | This is a na&#239;ve implementation of interned identifiers. In particular, it</span><span>
</span><a name="line-115"></a><span class="hs-comment">-- indexes things twice (once by 'Int', once by 'ByteString') to ensure fast</span><span>
</span><a name="line-116"></a><span class="hs-comment">-- lookups while lexing and otherwise.</span><span>
</span><a name="line-117"></a><span class="hs-identifier">newIdentifier</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">MonadState</span><span> </span><a href="Language.PlutusCore.Name.html#IdentifierState"><span class="hs-identifier hs-type">IdentifierState</span></a><span> </span><a href="#local-6989586621679097350"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">BSL.ByteString</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679097350"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a><span>
</span><a name="line-118"></a><a name="newIdentifier"><a href="Language.PlutusCore.Name.html#newIdentifier"><span class="hs-identifier">newIdentifier</span></a></a><span> </span><a name="local-6989586621679097645"><a href="#local-6989586621679097645"><span class="hs-identifier">str</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-119"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679097646"><a href="#local-6989586621679097646"><span class="hs-identifier">is</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679097647"><a href="#local-6989586621679097647"><span class="hs-identifier">ss</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679097648"><a href="#local-6989586621679097648"><span class="hs-identifier">nextU</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier hs-var">get</span><span>
</span><a name="line-120"></a><span>    </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier hs-var">M.lookup</span><span> </span><a href="#local-6989586621679097645"><span class="hs-identifier hs-var">str</span></a><span> </span><a href="#local-6989586621679097647"><span class="hs-identifier hs-var">ss</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-121"></a><span>        </span><span class="hs-identifier hs-var">Just</span><span> </span><a name="local-6989586621679097649"><a href="#local-6989586621679097649"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="#local-6989586621679097649"><span class="hs-identifier hs-var">k</span></a><span>
</span><a name="line-122"></a><span>        </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-123"></a><span>            </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679097650"><a href="#local-6989586621679097650"><span class="hs-identifier">key</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">unUnique</span><span> </span><a href="#local-6989586621679097648"><span class="hs-identifier hs-var">nextU</span></a><span>
</span><a name="line-124"></a><span>            </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679097651"><a href="#local-6989586621679097651"><span class="hs-identifier">nextU'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-var">Unique</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679097650"><span class="hs-identifier hs-var">key</span></a><span class="hs-operator hs-var">+</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-125"></a><span>            </span><span class="hs-identifier hs-var">put</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">IM.insert</span><span> </span><a href="#local-6989586621679097650"><span class="hs-identifier hs-var">key</span></a><span> </span><a href="#local-6989586621679097645"><span class="hs-identifier hs-var">str</span></a><span> </span><a href="#local-6989586621679097646"><span class="hs-identifier hs-var">is</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">M.insert</span><span> </span><a href="#local-6989586621679097645"><span class="hs-identifier hs-var">str</span></a><span> </span><a href="#local-6989586621679097648"><span class="hs-identifier hs-var">nextU</span></a><span> </span><a href="#local-6989586621679097647"><span class="hs-identifier hs-var">ss</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679097651"><span class="hs-identifier hs-var">nextU'</span></a><span class="hs-special">)</span><span>
</span><a name="line-126"></a><span>            </span><span class="hs-identifier hs-var">pure</span><span> </span><a href="#local-6989586621679097648"><span class="hs-identifier hs-var">nextU</span></a><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span class="hs-comment">{- Note [PLC names pretty-printing]

There are several possible designs on how to pretty-print PLC names. We choose the simplest one
which leads to less boilerplate on the implementation side and more concise API. The trade-off is
that it's completely inextensible and the pretty-printer configuration for PLC names is hardcoded
to 'PrettyConfigName'. Originally I tried to do a clever thing and allow different pretty-printer
configs for PLC names, but it turned out to be very complicated and the API would make users unhappy.
We may try to improve the current design later, but for now it works fine.

Here is how the current design is motivated:

Consider the 'PrettyConfigClassic' class

    newtype PrettyConfigClassic configName = PrettyConfigClassic
        { _pccConfigName :: configName
        }

(which only specifies how to print a PLC name) and this hypothethical instance:

    instance PrettyBy configName (tyname a) =&gt;
            PrettyBy (PrettyConfigClassic configName) (Type tyname a)

which determines how to pretty-print a 'Type' provided you know how to pretty-print a @tyname a@
by a 'configName'. &quot;Makes sense&quot; you might think, but our names are tricky:

    newtype TyNameWithKind a = TyNameWithKind { unTyNameWithKind :: TyName (a, Kind a) }

Here in order to pretty-print a 'TyNameWithKind', 'configName' must specify how to pretty-print
a 'Kind'. And there are at least two strategies to pretty-print a 'Kind': 'Classic' and 'Refined'.
I.e. 'configName' must specify not only a 'PrettyConfigName', but also a strategy to
pretty-print any PLC entity because this can be required in order to pretty-print a name.
Things become worse with

    type RenamedTerm a = Term TyNameWithKind NameWithType a
    newtype NameWithType a = NameWithType (Name (a, RenamedType a))

because in order to pretty-print a 'RenamedTerm' you have to provide a config that specifies
a pretty-printing strategy for 'Term' and has such 'configName' inside that specifies
a pretty-printing strategy for 'RenamedType' (because it's required in order to pretty-print
'NameWithType') which has a 'configName' that specifies a pretty-printing strategy for 'Kind'
(because it's required in order to pretty-print 'TyNameWithKind'). This is either a hell at the
type-level (completely unbearable) or a circular config at the term level which says
&quot;whatever your level of nestedness is, I'm able to handle that&quot;.
That latter thing would look like

    data PrettyConfigPlcLoop
        = PrettyConfigPlcLoopClassic (PrettyConfigClassic PrettyConfigPlc)
        | PrettyConfigPlcLoopRefined (PrettyConfigRefined PrettyConfigPlc)

    data PrettyConfigPlc = PrettyConfigPlc
        { _prettyConfigPlcName :: PrettyConfigName
        , _prettyConfigPlcLoop :: PrettyConfigPlcLoop
        }

i.e. there is a 'PrettyConfigName' at the current level, but you can descend further and there
will be a a 'PrettyConfigName' as well. While this might work, we're not in the Inception movie
and hence we define

    instance PrettyBy (PrettyConfigClassic configName) (tyname a) =&gt;
            PrettyBy (PrettyConfigClassic configName) (Type tyname a)

i.e. require that a @tyname a@ must be pretty-printable with the same config as an entire 'Type'.

... and immediately run into the O(n * m) number of instances problem:

    [Classic, Refined] x [Name, TyName, NameWithType, TyNameWithKind]

where @[Classic, Refined]@ are pretty-printing strategies (we can add more in future) and
@[Name, TyName, NameWithType, TyNameWithKind]@ are PLC names (we will likely add more in future).
We do not need this level of extensibility (pretty-printing names differently depending on a
pretty-printing strategy used), so we do the following twist: for any pretty-printing strategy
we require that it must contain a PLC names pretty-printing config and then define a single instance
for each of the PLC names. E.g. for 'Name' it looks like this:

    instance HasPrettyConfigName config =&gt; PrettyBy config (Name a) where

i.e. &quot;you can pretty-print a 'Name' using any config as long as a 'PrettyConfigName' can be
extracted from it&quot;. This results in O(n + m) number of instances, with 'HasPrettyConfigName'
instances being defined like

    instance configName ~ PrettyConfigName =&gt; HasPrettyConfigName (PrettyConfigClassic configName) where
        toPrettyConfigName = _pccConfigName

Here we also hardcode the PLC names pretty-printing config to be 'PrettyConfigName' which sometimes
contains redundant information (e.g. to pretty-print a 'Name' the '_pcnShowsAttached' field is not
required). This is something that we may try to improve later.
-}</span><span>
</span><a name="line-215"></a><span>
</span><a name="line-216"></a><span class="hs-comment">-- | A config that determines how to pretty-print a PLC name.</span><span>
</span><a name="line-217"></a><span class="hs-keyword">data</span><span> </span><a name="PrettyConfigName"><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier">PrettyConfigName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="PrettyConfigName"><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier">PrettyConfigName</span></a></a><span>
</span><a name="line-218"></a><span>    </span><span class="hs-special">{</span><span> </span><a name="_pcnShowsUnique"><a href="Language.PlutusCore.Name.html#_pcnShowsUnique"><span class="hs-identifier">_pcnShowsUnique</span></a></a><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>  </span><span class="hs-comment">-- ^ Whether to show the 'Unique' of a 'Name' or not.</span><span>
</span><a name="line-219"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="_pcnShowsAttached"><a href="Language.PlutusCore.Name.html#_pcnShowsAttached"><span class="hs-identifier">_pcnShowsAttached</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>  </span><span class="hs-comment">-- ^ Whether to show the \&quot;With\&quot; part of a name or not.</span><span>
</span><a name="line-220"></a><span>                                 </span><span class="hs-comment">-- E.g. for 'TyNameWithKind' this flag controls</span><span>
</span><a name="line-221"></a><span>                                 </span><span class="hs-comment">-- whether the 'Kind' is shown or not.</span><span>
</span><a name="line-222"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-223"></a><span>
</span><a name="line-224"></a><span class="hs-comment">-- | A class of configs from which a 'PrettyConfigName' can be extracted.</span><span>
</span><a name="line-225"></a><span class="hs-keyword">class</span><span> </span><a name="HasPrettyConfigName"><a href="Language.PlutusCore.Name.html#HasPrettyConfigName"><span class="hs-identifier">HasPrettyConfigName</span></a></a><span> </span><a name="local-6989586621679097330"><a href="#local-6989586621679097330"><span class="hs-identifier">config</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-226"></a><span>    </span><a name="toPrettyConfigName"><a href="Language.PlutusCore.Name.html#toPrettyConfigName"><span class="hs-identifier">toPrettyConfigName</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679097330"><span class="hs-identifier hs-type">config</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-type">PrettyConfigName</span></a><span>
</span><a name="line-227"></a><span>
</span><a name="line-228"></a><span class="hs-keyword">instance</span><span> </span><a href="Language.PlutusCore.Name.html#HasPrettyConfigName"><span class="hs-identifier hs-type">HasPrettyConfigName</span></a><span> </span><a href="#local-6989586621679097335"><span class="hs-identifier hs-type">config</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="PlutusPrelude.html#PrettyBy"><span class="hs-identifier hs-type">PrettyBy</span></a><span> </span><a href="#local-6989586621679097335"><span class="hs-identifier hs-type">config</span></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><a href="#local-6989586621679097336"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-229"></a><span>    </span><a name="local-8214565720323854396"><a href="PlutusPrelude.html#prettyBy"><span class="hs-identifier">prettyBy</span></a></a><span> </span><a name="local-6989586621679097337"><a href="#local-6989586621679097337"><span class="hs-identifier">config</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Name"><span class="hs-identifier hs-var">Name</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679097338"><a href="#local-6989586621679097338"><span class="hs-identifier">txt</span></a></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#Unique"><span class="hs-identifier hs-var">Unique</span></a><span> </span><a name="local-6989586621679097339"><a href="#local-6989586621679097339"><span class="hs-identifier">uniq</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-230"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679097340"><span class="hs-identifier hs-var">showsUnique</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pretty</span><span> </span><a href="#local-6989586621679097338"><span class="hs-identifier hs-var">txt</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-string">&quot;_&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">pretty</span><span> </span><a href="#local-6989586621679097339"><span class="hs-identifier hs-var">uniq</span></a><span>
</span><a name="line-231"></a><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">pretty</span><span> </span><a href="#local-6989586621679097338"><span class="hs-identifier hs-var">txt</span></a><span>
</span><a name="line-232"></a><span>        </span><span class="hs-keyword">where</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-var">PrettyConfigName</span></a><span> </span><a name="local-6989586621679097340"><a href="#local-6989586621679097340"><span class="hs-identifier">showsUnique</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#toPrettyConfigName"><span class="hs-identifier hs-var">toPrettyConfigName</span></a><span> </span><a href="#local-6989586621679097337"><span class="hs-identifier hs-var">config</span></a><span>
</span><a name="line-233"></a><span>
</span><a name="line-234"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">newtype</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="Language.PlutusCore.Name.html#HasPrettyConfigName"><span class="hs-identifier hs-type">HasPrettyConfigName</span></a><span> </span><a href="#local-6989586621679097652"><span class="hs-identifier hs-type">config</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="PlutusPrelude.html#PrettyBy"><span class="hs-identifier hs-type">PrettyBy</span></a><span> </span><a href="#local-6989586621679097652"><span class="hs-identifier hs-type">config</span></a><span> </span><span class="hs-special">(</span><a href="Language.PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a><span> </span><a href="#local-6989586621679097653"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-235"></a><span>
</span><a name="line-236"></a><span class="hs-comment">-- | The 'PrettyConfigName' used by default: print neither 'Unique's, nor name attachments.</span><span>
</span><a name="line-237"></a><span class="hs-identifier">defPrettyConfigName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-type">PrettyConfigName</span></a><span>
</span><a name="line-238"></a><a name="defPrettyConfigName"><a href="Language.PlutusCore.Name.html#defPrettyConfigName"><span class="hs-identifier">defPrettyConfigName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-var">PrettyConfigName</span></a><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-239"></a><span>
</span><a name="line-240"></a><span class="hs-comment">-- | The 'PrettyConfigName' used for debugging: print 'Unique's, but not name attachments.</span><span>
</span><a name="line-241"></a><span class="hs-identifier">debugPrettyConfigName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-type">PrettyConfigName</span></a><span>
</span><a name="line-242"></a><a name="debugPrettyConfigName"><a href="Language.PlutusCore.Name.html#debugPrettyConfigName"><span class="hs-identifier">debugPrettyConfigName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Language.PlutusCore.Name.html#PrettyConfigName"><span class="hs-identifier hs-var">PrettyConfigName</span></a><span> </span><span class="hs-identifier hs-var">True</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-243"></a></pre></body></html>